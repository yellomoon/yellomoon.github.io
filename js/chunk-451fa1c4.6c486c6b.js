(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-451fa1c4"],{"0243":function(e,t,a){},"64fc":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" API管理\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-create"},on:{click:e.handlecreate}},[e._v("新建")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"api名称"}}),a("el-table-column",{attrs:{prop:"mechanism",label:"机构"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.mechanism?a("div",[e._v("okex")]):e._e(),1==t.row.mechanism?a("div",[e._v("huobi")]):e._e(),2==t.row.mechanism?a("div",[e._v("binance")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"key",label:"KEY"}}),a("el-table-column",{attrs:{prop:"secret",label:"secret"}}),a("el-table-column",{attrs:{prop:"passphrase",label:"passphrase"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),a("el-dialog",{attrs:{title:"编辑","before-close":e.handleDialogClose,visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t},close:e.closeDialog}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"api名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"机构"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.mechanism,callback:function(t){e.$set(e.form,"mechanism",t)},expression:"form.mechanism"}},e._l(e.mechanism,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"KEY"}},[a("el-input",{model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),a("el-form-item",{attrs:{label:"secret"}},[a("el-input",{model:{value:e.form.secret,callback:function(t){e.$set(e.form,"secret",t)},expression:"form.secret"}})],1),a("el-form-item",{attrs:{label:"pass"}},[a("el-input",{model:{value:e.form.passphrase,callback:function(t){e.$set(e.form,"passphrase",t)},expression:"form.passphrase"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleDialogClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnChangeEnable},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"新建",visible:e.createVisible,width:"30%"},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.newform,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"api名称"}},[a("el-input",{model:{value:e.newform.name,callback:function(t){e.$set(e.newform,"name",t)},expression:"newform.name"}})],1),a("el-form-item",{attrs:{label:"机构"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newform.mechanism,callback:function(t){e.$set(e.newform,"mechanism",t)},expression:"newform.mechanism"}},e._l(e.mechanism,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"KEY"}},[a("el-input",{model:{value:e.newform.key,callback:function(t){e.$set(e.newform,"key",t)},expression:"newform.key"}})],1),a("el-form-item",{attrs:{label:"secret"}},[a("el-input",{model:{value:e.newform.secret,callback:function(t){e.$set(e.newform,"secret",t)},expression:"newform.secret"}})],1),a("el-form-item",{attrs:{label:"pass"}},[a("el-input",{model:{value:e.newform.passphrase,callback:function(t){e.$set(e.newform,"passphrase",t)},expression:"newform.passphrase"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnChangeEnable},on:{click:e.createnew}},[e._v("确 定")])],1)],1)],1)},n=[],s=a("3f55"),i={name:"basetable",data:function(){return{query:{},mechanism:[{id:0,text:"okex"},{id:1,text:"huobi"},{id:2,text:"biance"}],tableData:[],multipleSelection:[],delList:[],editVisible:!1,createVisible:!1,pageTotal:0,form:{},newform:{},idx:-1,id:-1,myHeaders:{},fileList:[],httpurl:"",btnChangeEnable:!1}},created:function(){this.httpurl=s["b"]+"/admin-api/savetmppic";var e=localStorage.getItem("admin_access_token");this.myHeaders={Authorization:"Bearer "+e},this.getData()},methods:{handleChange:function(e,t){"ready"==e.status?this.btnChangeEnable=!0:"success"==e.status&&(this.btnChangeEnable=!1)},closeDialog:function(){this.getData()},handleDialogClose:function(){return this.editVisible=!1,!1},handleAvatarSuccess:function(e,t,a){},handleAvataredit:function(e,t,a){},handleRemove:function(e,t){},handleRemoveedit:function(e,t){},handlePreview:function(e){console.log(e)},getData:function(){var e=this;this.$axios.get("api",this.query).then((function(t){null!=t.data.data&&(e.pageTotal=t.data.data.pageTotal||10,e.tableData=t.data.data.list)}))},handleSearch:function(){this.$set(this.query,"page",1),this.getData()},handleDelete:function(e,t){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){a.$axios.delete("api/"+a.tableData[e].id,a.tableData[e]).then((function(e){a.$message.success("删除成功"),a.getData()}))})).catch((function(){}))},handleEdit:function(e,t){this.idx=e,this.form=t,this.editVisible=!0},handlecreate:function(){this.createVisible=!0,this.newform={},this.$refs.creatimg.clearFiles()},saveEdit:function(){var e=this,t=this;this.$axios.put("api/"+this.form.id,this.form).then((function(a){e.editVisible=!1,null!=a.data&&0==a.data.success?t.$message.success("修改序号成功"):t.$message.error(a.data.msg),e.$set(e.tableData,e.idx,e.form)})).catch((function(e){t.$message.error("仔细检查，输入数据错误")}))},createnew:function(){var e=this,t=this;this.$axios.post("api",this.newform).then((function(a){e.createVisible=!1,null!=a.data&&0==a.data.success?t.$message.success("新建成功"):t.$message.error(a.data.msg),e.newform={},e.getData()})).catch((function(e){t.$message.error("仔细检查，输入数据错误")}))},handlePageChange:function(e){this.$set(this.query,"page",e),this.getData()}}},o=i,r=(a("981c"),a("2877")),c=Object(r["a"])(o,l,n,!1,null,"e07b8752",null);t["default"]=c.exports},"981c":function(e,t,a){"use strict";var l=a("0243"),n=a.n(l);n.a}}]);