(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-306c817b"],{"2ab5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 机器人管理\n            ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-create"},on:{click:e.handlecreate}},[e._v("新建")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"机器人名称"}}),a("el-table-column",{attrs:{prop:"api.name",label:"api名称"}}),a("el-table-column",{attrs:{prop:"worker_id",label:"矿机指标选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.workerinfo[t.row.worker_id[0].toString()+"_"+t.row.worker_id[1].toString()]))])]}}])}),a("el-table-column",{attrs:{prop:"symbol",label:"交易对"}}),a("el-table-column",{attrs:{prop:"api.mechanism",label:"机构"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.api.mechanism?a("div",[e._v("okex")]):e._e(),1==t.row.api.mechanism?a("div",[e._v("huobi")]):e._e(),2==t.row.api.mechanism?a("div",[e._v("binance")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),a("el-dialog",{attrs:{title:"编辑","before-close":e.handleDialogClose,visible:e.editVisible,width:"70%"},on:{"update:visible":function(t){e.editVisible=t},close:e.closeDialog}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"机器人名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"交易对"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择交易对"},model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}},[a("el-option",{attrs:{label:"BTC/USDT",value:"BTC/USDT"}}),a("el-option",{attrs:{label:"ETH/USDT",value:"ETH/USDT"}})],1)],1),a("el-form-item",{attrs:{label:"API选择"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.form.api_id,callback:function(t){e.$set(e.form,"api_id",t)},expression:"form.api_id"}},e._l(e.platparms.apilist,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-----"+["okex","huobi","biance"][e.mechanism],value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"矿机指标选择"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.form.worker_id,callback:function(t){e.$set(e.form,"worker_id",t)},expression:"form.worker_id"}},e._l(e.platparms.workerinfo,(function(e){return a("el-option",{key:e.worker_id+"_"+e.worker_type,attrs:{label:e.worker_name+"---  "+e.worker_cu_name+"---  "+e.worker_cu_rate+"%",value:e.worker_id+"_"+e.worker_type}})})),1)],1),a("el-form-item",{attrs:{label:"交易方向"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{disabled:"",border:"",label:"0"}},[e._v("看空")]),a("el-radio",{attrs:{disabled:"",border:"",label:"1"}},[e._v("看多")])],1)],1),a("el-form-item",{attrs:{label:"收益货币类型"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.profit_type,callback:function(t){e.$set(e.form,"profit_type",t)},expression:"form.profit_type"}},[a("el-radio",{attrs:{disabled:"",border:"",label:"0"}},[e._v("计价货币")]),a("el-radio",{attrs:{disabled:"",border:"",label:"1"}},[e._v("交易货币")])],1)],1),"0"==e.form.type?a("el-form-item",{attrs:{label:"起购数量"+e.platparms.symbolinfo[e.form.symbol][e.form.mechanism][1]}},[a("el-input",{model:{value:e.form.start_num,callback:function(t){e.$set(e.form,"start_num",t)},expression:"form.start_num"}})],1):e._e(),"1"==e.form.type?a("el-form-item",{attrs:{label:"起购数量"+e.platparms.symbolinfo[e.form.symbol][e.form.mechanism][2]}},[a("el-input",{model:{value:e.form.start_num,callback:function(t){e.$set(e.form,"start_num",t)},expression:"form.start_num"}})],1):e._e(),a("el-form-item",{attrs:{label:"跑单数量"}},[a("el-input",{model:{value:e.form.run_num,callback:function(t){e.$set(e.form,"run_num",t)},expression:"form.run_num"}})],1),a("el-form-item",{attrs:{label:"开仓价格触发条件"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.open_price_type,callback:function(t){e.$set(e.form,"open_price_type",t)},expression:"form.open_price_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.form.open_price,callback:function(t){e.$set(e.form,"open_price",t)},expression:"form.open_price"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"开仓矿机指标触发"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.open_norm_type,callback:function(t){e.$set(e.form,"open_norm_type",t)},expression:"form.open_norm_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.form.open_norm,callback:function(t){e.$set(e.form,"open_norm",t)},expression:"form.open_norm"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"平仓价格触发条件"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.close_price_type,callback:function(t){e.$set(e.form,"close_price_type",t)},expression:"form.close_price_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.form.close_price,callback:function(t){e.$set(e.form,"close_price",t)},expression:"form.close_price"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"平仓矿机指标触发"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.close_norm_type,callback:function(t){e.$set(e.form,"close_norm_type",t)},expression:"form.close_norm_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.form.close_norm,callback:function(t){e.$set(e.form,"close_norm",t)},expression:"form.close_norm"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"队列开关"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("开启")]),a("el-radio",{attrs:{border:"",label:"1"}},[e._v("关闭")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleDialogClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnChangeEnable},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"新建",visible:e.createVisible,width:"70%"},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.newform,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"机器人名称"}},[a("el-input",{model:{value:e.newform.name,callback:function(t){e.$set(e.newform,"name",t)},expression:"newform.name"}})],1),a("el-form-item",{attrs:{label:"交易对"}},[a("el-select",{attrs:{placeholder:"请选择交易对"},model:{value:e.newform.symbol,callback:function(t){e.$set(e.newform,"symbol",t)},expression:"newform.symbol"}},[a("el-option",{attrs:{label:"BTC/USDT",value:"BTC/USDT"}}),a("el-option",{attrs:{label:"ETH/USDT",value:"ETH/USDT"}})],1)],1),a("el-form-item",{attrs:{label:"API选择"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newform.api_id,callback:function(t){e.$set(e.newform,"api_id",t)},expression:"newform.api_id"}},e._l(e.platparms.apilist,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-----"+["okex","huobi","biance"][e.mechanism],value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"矿机指标选择"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newform.worker_id,callback:function(t){e.$set(e.newform,"worker_id",t)},expression:"newform.worker_id"}},e._l(e.platparms.workerinfo,(function(e){return a("el-option",{key:e.worker_id+"_"+e.worker_type,attrs:{label:e.worker_name+"---  "+e.worker_cu_name+"---  "+e.worker_cu_rate+"%",value:e.worker_id+"_"+e.worker_type}})})),1)],1),a("el-form-item",{attrs:{label:"交易方向"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.newform.type,callback:function(t){e.$set(e.newform,"type",t)},expression:"newform.type"}},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("看空")]),a("el-radio",{attrs:{border:"",label:"1"}},[e._v("看多")])],1)],1),a("el-form-item",{attrs:{label:"收益货币类型"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.newform.profit_type,callback:function(t){e.$set(e.newform,"profit_type",t)},expression:"newform.profit_type"}},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("计价货币")]),a("el-radio",{attrs:{border:"",label:"1"}},[e._v("交易货币")])],1)],1),a("el-form-item",{attrs:{label:"起购数量"+("undefined"!=typeof e.newform.symbol&&"undefined"!=typeof e.newform.api_id&&"undefined"!=typeof e.newform.type?e.platparms.symbolinfo[e.newform.symbol][e.apid2se[e.newform.api_id]][parseInt(e.newform.type)+1]:"")}},[a("el-input",{model:{value:e.newform.start_num,callback:function(t){e.$set(e.newform,"start_num",t)},expression:"newform.start_num"}})],1),a("el-form-item",{attrs:{label:"跑单数量"}},[a("el-input",{model:{value:e.newform.run_num,callback:function(t){e.$set(e.newform,"run_num",t)},expression:"newform.run_num"}})],1),a("el-form-item",{attrs:{label:"开仓价格触发条件"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newform.open_price_type,callback:function(t){e.$set(e.newform,"open_price_type",t)},expression:"newform.open_price_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.newform.open_price,callback:function(t){e.$set(e.newform,"open_price",t)},expression:"newform.open_price"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"开仓矿机指标触发"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newform.open_norm_type,callback:function(t){e.$set(e.newform,"open_norm_type",t)},expression:"newform.open_norm_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.newform.open_norm,callback:function(t){e.$set(e.newform,"open_norm",t)},expression:"newform.open_norm"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"平仓价格触发条件"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newform.close_price_type,callback:function(t){e.$set(e.newform,"close_price_type",t)},expression:"newform.close_price_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.newform.close_price,callback:function(t){e.$set(e.newform,"close_price",t)},expression:"newform.close_price"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"平仓矿机指标触发"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.newform.close_norm_type,callback:function(t){e.$set(e.newform,"close_norm_type",t)},expression:"newform.close_norm_type"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-radio",{attrs:{border:"",label:"1"}},[e._v("大于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("小于")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-radio",{attrs:{border:"",label:"2"}},[e._v("忽略")])],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{model:{value:e.newform.close_norm,callback:function(t){e.$set(e.newform,"close_norm",t)},expression:"newform.close_norm"}})],1)])],1)],1)],1),a("el-form-item",{attrs:{label:"队列开关"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.newform.status,callback:function(t){e.$set(e.newform,"status",t)},expression:"newform.status"}},[a("el-radio",{attrs:{border:"",label:"0"}},[e._v("开启")]),a("el-radio",{attrs:{border:"",label:"1"}},[e._v("关闭")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnChangeEnable},on:{click:e.createnew}},[e._v("确 定")])],1)],1)],1)},l=[],o=a("3f55"),s={name:"basetable",data:function(){return{query:{},mechanism:[{id:0,text:"okex"},{id:1,text:"huobi"},{id:2,text:"biance"}],tableData:[],multipleSelection:[],delList:[],editVisible:!1,createVisible:!1,pageTotal:0,form:{},newform:{},idx:-1,id:-1,myHeaders:{},fileList:[],httpurl:"",btnChangeEnable:!1,platparms:{},apid2se:[],workerinfo:[]}},created:function(){this.httpurl=o["b"]+"/admin-api/savetmppic";var e=localStorage.getItem("admin_access_token");this.myHeaders={Authorization:"Bearer "+e},this.getplatData()},mounted:function(){},methods:{handleChange:function(e,t){"ready"==e.status?this.btnChangeEnable=!0:"success"==e.status&&(this.btnChangeEnable=!1)},closeDialog:function(){this.getData()},handleDialogClose:function(){return this.editVisible=!1,!1},handleAvatarSuccess:function(e,t,a){},handleAvataredit:function(e,t,a){},handleRemove:function(e,t){},handleRemoveedit:function(e,t){},handlePreview:function(e){console.log(e)},getData:function(){var e=this;this.$axios.get("runbot",this.query).then((function(t){null!=t.data.data&&(e.pageTotal=t.data.data.pageTotal||10,e.tableData=t.data.data.list)}))},getplatData:function(){var e=this,t=this;this.$axios.get("runbot/platparms",this.query).then((function(a){if(null!=a.data.data){e.platparms=a.data.data;for(var r=0;r<t.platparms.apilist.length;r++)t.apid2se[t.platparms.apilist[r].id]=t.platparms.apilist[r].mechanism;for(r=0;r<t.platparms.workerinfo.length;r++)t.workerinfo[t.platparms.workerinfo[r].worker_id+"_"+t.platparms.workerinfo[r].worker_type]=t.platparms.workerinfo[r].worker_name+t.platparms.workerinfo[r].worker_cu_name;t.getData()}}))},handleSearch:function(){this.$set(this.query,"page",1),this.getData()},handleDelete:function(e,t){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){a.$axios.delete("runbot/"+a.tableData[e].id,a.tableData[e]).then((function(e){null!=e.data&&0==e.data.success?(a.$message.success("删除成功"),a.getData()):a.$message.error(e.data.msg)}))})).catch((function(){}))},handleEdit:function(e,t){console.log(this.workerinfo["5_0"]),this.idx=e,this.form=t,this.form.worker_id=this.form.worker_id[0]+"_"+this.form.worker_id[1],this.editVisible=!0},handlecreate:function(){this.createVisible=!0,this.newform={}},saveEdit:function(){var e=this,t=this;this.$axios.put("runbot/"+this.form.id,this.form).then((function(a){e.editVisible=!1,null!=a.data&&0==a.data.success?t.$message.success("修改成功"):t.$message.error(a.data.msg),e.$set(e.tableData,e.idx,e.form)})).catch((function(e){t.$message.error("仔细检查，输入数据错误")}))},createnew:function(){var e=this,t=this;this.$axios.post("runbot",this.newform).then((function(a){null!=a.data&&0==a.data.success?(t.$message.success("新建成功"),t.createVisible=!1,e.newform={},e.getData()):t.$message.error(a.data.msg)})).catch((function(e){t.$message.error("仔细检查，输入数据错误")}))},handlePageChange:function(e){this.$set(this.query,"page",e),this.getData()}}},i=s,n=(a("5ba4"),a("2877")),c=Object(n["a"])(i,r,l,!1,null,"3712d71a",null);t["default"]=c.exports},"5ba4":function(e,t,a){"use strict";var r=a("a203"),l=a.n(r);l.a},a203:function(e,t,a){}}]);